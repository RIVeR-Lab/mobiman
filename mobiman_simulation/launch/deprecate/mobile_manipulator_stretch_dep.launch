<launch>
      <!-- Enable rviz visualization -->
      <arg name="rviz" default="true" />
      
      <!-- Set nodes on debug mode -->
      <arg name="debug" default="false" />

      <!-- The URDF model of the robot -->
      <!--arg name="urdfFile" default="$(find ocs2_robotic_assets)/resources/mobile_manipulator/urdf/mobile_manipulator_nua.urdf" /-->
      <arg name="urdfFile" default="$(find mobiman_simulation)/urdf/stretch_main_fixedWheel.urdf" />
      <!--arg name="urdfFile" default="$(find stretch_description)/urdf/stretch_main_nua.urdf" /-->

      <!-- The task file for the mpc. -->
      <arg name="taskFile" default="$(find mobiman_simulation)/config/task_stretch.info" />
      
      <!-- The library folder to generate CppAD codegen into -->
      <arg name="libFolder" default="$(find mobiman_simulation)/codegen/auto_generated_stretch" />

      <!-- make the files into global parameters -->
      <param name="urdfFile" value="$(arg urdfFile)" />
      <param name="taskFile" value="$(arg taskFile)" />
      <param name="libFolder" value="$(arg libFolder)" />

      <group if="$(arg rviz)">
            <include file="$(find mobiman_simulation)/launch/visualize_stretch.launch">
                  <arg name="urdf_file" value="$(arg urdfFile)" />
            </include>
      </group>

      <node if="$(arg debug)" pkg="mobiman_simulation" type="mobile_manipulator_mpc_node_stretch" name="mobile_manipulator_mpc_node_stretch" output="screen" launch-prefix="gnome-terminal -- gdb -ex run --args" />
      <node unless="$(arg debug)" pkg="mobiman_simulation" type="mobile_manipulator_mpc_node_stretch" name="mobile_manipulator_mpc_node_stretch" output="screen" launch-prefix="" />

      <node pkg="ocs2_mobile_manipulator_ros" type="mobile_manipulator_dummy_mrt_node" name="mobile_manipulator_dummy_mrt_node" output="screen" launch-prefix="gnome-terminal --" />

      <node if="$(arg rviz)" pkg="ocs2_mobile_manipulator_ros" type="mobile_manipulator_target" name="mobile_manipulator_target" output="screen" />
</launch>
